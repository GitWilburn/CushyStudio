@top File { expression+ }

expression[@isGroup=Expression] {

  // LightnendExpression |
  WeightedExpression |

  Permutations |

  Lora |
  Wildcards |

  Separator |
  Break |

  Identifier |
  Number |
  String
}

@skip { space }


WeightedExpression { "(" expression+ (":" Number+)? ")x" Number }
// LightnendExpression { "[" expression+ (":" Number+)? "]" }

Permutations { "{" expression+ "}" }

// LORA
Lora { "@" LoraName  }
LoraName { Identifier | String  }

// WILDCARDS
Wildcards { "*" WildcardName }
WildcardName { Identifier | String  }



@tokens {
  space { @whitespace+ }
  Break { "break" }
  Identifier { $[A-Za-z_\\\/]+ }
  Number { $[0-9.-]+ }
  String { '"' !["]* '"' }
  Separator { "," }
  // WeightedExpression {"{}"}
  @precedence { Break, Identifier }
}